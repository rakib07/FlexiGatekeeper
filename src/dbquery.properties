db.query.create-user = INSERT INTO `users` (`user_id`, `subscriber_user_id`, `reference_username`, `created_on`, `modified_on`) VALUES (:user_id, :subscriber_user_id, :reference_username, :created_on, :modified_on);
db.query.create-subscriber = INSERT INTO `subscribers` (`user_id`, `registration_date`, `expired_date`, `max_members`, `ip_address`) VALUES (:user_id, :registration_date, :expired_date, :max_members, :ip_address);
db.query.add-subscriber-service = INSERT INTO `subscribers_services` (`subscriber_user_id`, `service_id`, `api_key`, `registration_date`, `expired_date`) VALUES (:subscriber_user_id, :service_id, :api_key, :registration_date, :expired_date);
db.query.add-callback-function = INSERT INTO `callback_functions` (`api_key`, `callback_function`) VALUES (:api_key, :callback_function);
db.query.get-subscriber-info = SELECT users.reference_username, subscribers.* from subscribers join users on subscribers.user_id = users.subscriber_user_id where reference_username = :reference_username;
db.query.get-subscriber-total-members = SELECT count(users.user_id) as current_members from subscribers join users on subscribers.user_id = users.subscriber_user_id where subscriber_user_id = :subscriber_user_id;
db.query.get-user-subscriber-service-info = SELECT users.user_id as member_user_id, subscribers.expired_date as subscription_expired_date, subscribers_services.expired_date as api_expired_date from users join subscribers on users.subscriber_user_id = subscribers.user_id join subscribers_services on subscribers_services.subscriber_user_id = subscribers.user_id where reference_username = :reference_username and ip_address = :ip_address and api_key = :api_key;
db.query.get-user-service-info = SELECT * from subscribers_services where api_key = :api_key;
db.query.get-current-balance = SELECT sum(balance_in)-sum(balance_out) as current_balance from transactions where api_key = :api_key; 
db.query.add-sms-details = INSERT INTO `sms_details` (`transaction_id`, `api_key`, `sms`, `created_on`, `modified_on`) VALUES (:transaction_id, :api_key, :sms, :created_on, :modified_on);
db.query.create-sms-transaction = INSERT INTO `sms_transactions` (`transaction_id`, `cell_no`, `status_id`, `created_on`, `modified_on`) VALUES (:transaction_id, :cell_no, :status_id, :created_on, :modified_on);
db.query.create-transaction = INSERT INTO `transactions` (`transaction_id`, `api_key`, `balance_in`, `balance_out`, `status_id`, `type_id`, `cell_no`, `description`, `created_on`, `modified_on`) VALUES (:transaction_id, :api_key, :balance_in, :balance_out, :status_id, :type_id, :cell_no, :description, :created_on, :modified_on);
db.query.add-service = INSERT INTO `services` (`id`, `title`) VALUES (:id, :title);
db.query.add-sim = INSERT INTO `sims` (`sim_no`, `description`, `created_on`, `modified_on`) VALUES (:sim_no, :description, :created_on, :modified_on);
db.query.add-sim-service = INSERT INTO `sims_services` (`sim_no`, `service_id`, `category_id`, `current_balance`, `created_on`, `modified_on`) VALUES (:sim_no, :service_id, :category_id, :current_balance, :created_on, :modified_on);
db.query.get-sim-info = SELECT sims.description, sims_services.* from sims join sims_services on sims.sim_no = sims_services.sim_no where sims_services.sim_no = :sim_no; 
db.query.get-all-sims = SELECT sims.description, sims_services.* from sims join sims_services on sims.sim_no = sims_services.sim_no ORDER BY description ASC; 
db.query.update-sim-info = UPDATE `sims` set `description` = :description where `sim_no` = :sim_no;
db.query.update-sim-service-balance-info = UPDATE `sims_services` set `current_balance` = :current_balance, `modified_on` = :modified_on where `sim_no` = :sim_no and `service_id` = :service_id;

db.query.update-transaction-status = UPDATE `transactions` set `status_id` = :status_id where `transaction_id` = :transaction_id;
